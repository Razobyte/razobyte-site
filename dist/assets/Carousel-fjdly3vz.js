import{u as $e,a as Me,b as Oe,c as ae}from"./useWillUnmount-mtcaDm_h.js";import{r as n,a5 as Ae,j as i,u as V,c as T,a6 as Le,a7 as Ke,a8 as Pe,a9 as _e,aa as Xe}from"./index-dBP7TtHf.js";const He=["onKeyDown"];function We(t,s){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(s.indexOf(r)>=0)continue;a[r]=t[r]}return a}function Ue(t){return!t||t.trim()==="#"}const ue=n.forwardRef((t,s)=>{let{onKeyDown:a}=t,r=We(t,He);const[c]=Ae(Object.assign({tagName:"a"},r)),u=$e(I=>{c.onKeyDown(I),a==null||a(I)});return Ue(r.href)||r.role==="button"?i.jsx("a",Object.assign({ref:s},r,c,{onKeyDown:u})):i.jsx("a",Object.assign({ref:s},r,{onKeyDown:a}))});ue.displayName="Anchor";const ie=ue;function Ve(t,s){const a=n.useRef(!0);n.useEffect(()=>{if(a.current){a.current=!1;return}return t()},s)}function Be(){const t=n.useRef(!0),s=n.useRef(()=>t.current);return n.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),s.current}const U=2**31-1;function ce(t,s,a){const r=a-Date.now();t.current=r<=U?setTimeout(s,r):setTimeout(()=>ce(t,s,a),U)}function Fe(){const t=Be(),s=n.useRef();return Me(()=>clearTimeout(s.current)),n.useMemo(()=>{const a=()=>clearTimeout(s.current);function r(c,u=0){t()&&(a(),u<=U?s.current=setTimeout(c,u):ce(s,c,Date.now()+u))}return{set:r,clear:a,handleRef:s}},[])}const de=n.forwardRef(({className:t,bsPrefix:s,as:a="div",...r},c)=>(s=V(s,"carousel-caption"),i.jsx(a,{ref:c,className:T(t,s),...r})));de.displayName="CarouselCaption";const Ye=de,fe=n.forwardRef(({as:t="div",bsPrefix:s,className:a,...r},c)=>{const u=T(a,V(s,"carousel-item"));return i.jsx(t,{ref:c,...r,className:u})});fe.displayName="CarouselItem";const qe=fe;function le(t,s){let a=0;return n.Children.map(t,r=>n.isValidElement(r)?s(r,a++):r)}function ze(t,s){let a=0;n.Children.forEach(t,r=>{n.isValidElement(r)&&s(r,a++)})}const Ge=40;function Je(t){if(!t||!t.style||!t.parentNode||!t.parentNode.style)return!1;const s=getComputedStyle(t);return s.display!=="none"&&s.visibility!=="hidden"&&getComputedStyle(t.parentNode).display!=="none"}const me=n.forwardRef(({defaultActiveIndex:t=0,...s},a)=>{const{as:r="div",bsPrefix:c,slide:u=!0,fade:I=!1,controls:he=!0,indicators:$=!0,indicatorLabels:M=[],activeIndex:p,onSelect:v,onSlide:R,onSlid:w,interval:j=5e3,keyboard:B=!0,onKeyDown:O,pause:b="hover",onMouseOver:A,onMouseOut:L,wrap:g=!0,touch:F=!0,onTouchStart:K,onTouchMove:P,onTouchEnd:_,prevIcon:pe=i.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:Y="Previous",nextIcon:ve=i.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:q="Next",variant:z,className:xe,children:X,...Ce}=Le({defaultActiveIndex:t,...s},{activeIndex:"onSelect"}),m=V(c,"carousel"),N=Ke(),y=n.useRef(null),[G,J]=n.useState("next"),[be,D]=n.useState(!1),[E,Q]=n.useState(!1),[l,Ne]=n.useState(p||0);n.useEffect(()=>{!E&&p!==l&&(y.current?J(y.current):J((p||0)>l?"next":"prev"),u&&Q(!0),Ne(p||0))},[p,E,l,u]),n.useEffect(()=>{y.current&&(y.current=null)});let x=0,Z;ze(X,(e,o)=>{++x,o===p&&(Z=e.props.interval)});const ee=Oe(Z),d=n.useCallback(e=>{if(E)return;let o=l-1;if(o<0){if(!g)return;o=x-1}y.current="prev",v==null||v(o,e)},[E,l,v,g,x]),f=ae(e=>{if(E)return;let o=l+1;if(o>=x){if(!g)return;o=0}y.current="next",v==null||v(o,e)}),H=n.useRef();n.useImperativeHandle(a,()=>({element:H.current,prev:d,next:f}));const ne=ae(()=>{!document.hidden&&Je(H.current)&&(N?d():f())}),C=G==="next"?"start":"end";Ve(()=>{u||(R==null||R(l,C),w==null||w(l,C))},[l]);const ye=`${m}-item-${G}`,Ee=`${m}-item-${C}`,Re=n.useCallback(e=>{Pe(e),R==null||R(l,C)},[R,l,C]),we=n.useCallback(()=>{Q(!1),w==null||w(l,C)},[w,l,C]),je=n.useCallback(e=>{if(B&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":e.preventDefault(),N?f(e):d(e);return;case"ArrowRight":e.preventDefault(),N?d(e):f(e);return}O==null||O(e)},[B,O,d,f,N]),ge=n.useCallback(e=>{b==="hover"&&D(!0),A==null||A(e)},[b,A]),Se=n.useCallback(e=>{D(!1),L==null||L(e)},[L]),te=n.useRef(0),k=n.useRef(0),se=Fe(),Te=n.useCallback(e=>{te.current=e.touches[0].clientX,k.current=0,b==="hover"&&D(!0),K==null||K(e)},[b,K]),Ie=n.useCallback(e=>{e.touches&&e.touches.length>1?k.current=0:k.current=e.touches[0].clientX-te.current,P==null||P(e)},[P]),De=n.useCallback(e=>{if(F){const o=k.current;Math.abs(o)>Ge&&(o>0?d(e):f(e))}b==="hover"&&se.set(()=>{D(!1)},j||void 0),_==null||_(e)},[F,b,d,f,se,j,_]),re=j!=null&&!be&&!E,W=n.useRef();n.useEffect(()=>{var e,o;if(!re)return;const h=N?d:f;return W.current=window.setInterval(document.visibilityState?ne:h,(e=(o=ee.current)!=null?o:j)!=null?e:void 0),()=>{W.current!==null&&clearInterval(W.current)}},[re,d,f,ee,j,ne,N]);const oe=n.useMemo(()=>$&&Array.from({length:x},(e,o)=>h=>{v==null||v(o,h)}),[$,x,v]);return i.jsxs(r,{ref:H,...Ce,onKeyDown:je,onMouseOver:ge,onMouseOut:Se,onTouchStart:Te,onTouchMove:Ie,onTouchEnd:De,className:T(xe,m,u&&"slide",I&&`${m}-fade`,z&&`${m}-${z}`),children:[$&&i.jsx("div",{className:`${m}-indicators`,children:le(X,(e,o)=>i.jsx("button",{type:"button","data-bs-target":"","aria-label":M!=null&&M.length?M[o]:`Slide ${o+1}`,className:o===l?"active":void 0,onClick:oe?oe[o]:void 0,"aria-current":o===l},o))}),i.jsx("div",{className:`${m}-inner`,children:le(X,(e,o)=>{const h=o===l;return u?i.jsx(_e,{in:h,onEnter:h?Re:void 0,onEntered:h?we:void 0,addEndListener:Xe,children:(S,ke)=>n.cloneElement(e,{...ke,className:T(e.props.className,h&&S!=="entered"&&ye,(S==="entered"||S==="exiting")&&"active",(S==="entering"||S==="exiting")&&Ee)})}):n.cloneElement(e,{className:T(e.props.className,h&&"active")})})}),he&&i.jsxs(i.Fragment,{children:[(g||p!==0)&&i.jsxs(ie,{className:`${m}-control-prev`,onClick:d,children:[pe,Y&&i.jsx("span",{className:"visually-hidden",children:Y})]}),(g||p!==x-1)&&i.jsxs(ie,{className:`${m}-control-next`,onClick:f,children:[ve,q&&i.jsx("span",{className:"visually-hidden",children:q})]})]})]})});me.displayName="Carousel";const en=Object.assign(me,{Caption:Ye,Item:qe});export{en as C};
